(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{252:function(s,a,t){"use strict";t.r(a);var n=t(0),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"买卖股票的最佳时机-iii-困难"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#买卖股票的最佳时机-iii-困难","aria-hidden":"true"}},[s._v("#")]),s._v(" 买卖股票的最佳时机 III-困难")]),s._v(" "),t("p",[s._v("难度：困难"),t("br"),s._v(" "),t("br"),s._v(" "),t("br"),s._v("题目描述："),t("br"),s._v("给定一个数组，它的第 i 个元素是一支给定的股票在第 i 天的价格。"),t("br"),s._v(" "),t("br"),s._v("设计一个算法来计算你所能获取的最大利润。你最多可以完成   两笔   交易。"),t("br"),s._v(" "),t("br"),s._v("注意:  你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。"),t("br"),s._v(" "),t("br"),s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("输入"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n输出"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n解释"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 在第 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" 天（股票价格 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("）的时候买入，在第 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" 天（股票价格 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("）的时候卖出，这笔交易所能获得利润 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" 。\n     随后，在第 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" 天（股票价格 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("）的时候买入，在第 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" 天 （股票价格 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("）的时候卖出，这笔交易所能获得利润 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" 。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("br"),s._v(" "),t("br"),s._v("解题思路："),t("br"),s._v("分别利用动态规划计算前半段交易和后半段交易的最大收益\n```javascript\nvar maxProfit = function(data) {\n      let min = data[0];\n      let max = 0;\n      let sum = 0;\n      for (let i = 0; i < data.length; i++) {\n        if (data[i] < min) {\n          min = data[i];\n        }\n        max = Math.max(max, data[i] - min);\n        let arr = data.slice(i + 1);\n        let mins = arr[0];\n        let maxs = 0;\n        for (let j = 0; j < arr.length; j++) {\n          if (arr[j] < mins) {\n            mins = arr[j];\n          }\n          maxs = Math.max(maxs, arr[j] - mins);\n        }\n        sum = Math.max(sum, max + maxs);\n      }\n      return sum;\n};\n```\n")])}),[],!1,null,null,null);a.default=r.exports}}]);